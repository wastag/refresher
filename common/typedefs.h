//////////////////////////////////////////////////////////////////////////
/// \file typedefs.h
///
/// \brief Header file containing the types definitions and macros \n 
///        common to the entire project
///
///    All rights released
///
/// \author Jacek Wastag    jwastag@gmail.com
///
//////////////////////////////////////////////////////////////////////////

#ifndef TYPEDEFS_H_
#define TYPEDEFS_H_

#include <stdint.h>

#ifndef NULL
#define NULL 0
#endif

#ifndef NULL_PTR
#define NULL_PTR ((void*)0)
#endif

//////////////////////////////////////////////////////////////////////////
/// \brief Flag states definition
//////////////////////////////////////////////////////////////////////////
#define TRUE 1
#define FALSE 0

typedef uint8_t Boolean_t;

typedef uint8_t* puint8_t;

//////////////////////////////////////////////////////////////////////////
/// \brief General function type
//////////////////////////////////////////////////////////////////////////
typedef void (Function_t)(void);

//////////////////////////////////////////////////////////////////////////
/// \brief General function pointer
//////////////////////////////////////////////////////////////////////////
typedef void (* pFunction_t)(void);

//////////////////////////////////////////////////////////////////////////
/// \brief Const function pointer
//////////////////////////////////////////////////////////////////////////
typedef const void (* cpFunction_t)(void);

//////////////////////////////////////////////////////////////////////////
/// \brief Assertions
//////////////////////////////////////////////////////////////////////////
#define TABLE_ELEMENTS_COUNT(TABLE) (sizeof(TABLE) / sizeof(TABLE[0]))
#define STATIC_ASSERT(CON, FILE) STATIC_ASSERT_IMPL(CON,__LINE__,FILE)
#define STATIC_ASSERT_IMPL(CON, LINE, FILE) typedef char CONCAT(ASSERTION_FAILS_##FILE##_,LINE)[2*!!(CON)-1];
#define CONCAT(A, B) A##B
#define STATIC_TABLE_CHECK(TABLE, EXPECTED_SIZE, FILE) STATIC_ASSERT( TABLE_ELEMENTS_COUNT(TABLE) == EXPECTED_SIZE, FILE)

#endif /* TYPEDEFS_H_ */